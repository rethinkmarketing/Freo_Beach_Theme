(($,n,d,_,f,w)=>{"use strict";let a=!1,p=!1,m=d.querySelector("form.variations_form select"),u=[];const o=f.wc_version,g=f.wc_js["wc-add-to-cart-variation"],h=f.wc_js.wc_additional_variation_images_script,y=d.tfClass("woocommerce-ordering")[0],v=function(){this.closest("form").submit()},c=d.querySelectorAll("input.qty[min]"),k=e=>!e.includes("ver=",12)&&o,r=async e=>{if(f.photoswipe){e.preventDefault(),e.stopImmediatePropagation();const t=e.currentTarget;await Promise.all([n.loadCss(f.photoswipe.main,null,o),n.loadCss(f.photoswipe.skin,null,o)]),setTimeout(()=>{t.click()},5)}},i=async(t,o,c,a)=>{const i=f.wc_js,e=t&&!0!==t,r=e=>{delete i[e],0===Object.keys(i).length&&(n.body.off("click.tf_wc_click").off("added_to_cart removed_from_cart",j),y&&y.tfOff("change",v,{passive:!0,once:!0}),setTimeout(()=>{if(t&&!0!==t&&"load"!==t)if("click"===t.type)for(let e=0,t=u.length;e<t;++e)u[e].isConnected&&u[e].click();else n.body.triggerHandler(t.type,[o,c,a]);u=null,n.trigger("tf_wc_js_load")},5))},s=async()=>{i.woocommerce&&await n.loadJs(i.woocommerce,$.scroll_to_notices!==w,k(i.woocommerce)),r("woocommerce")},l=async()=>{const t=d.tfClass("variations_form");if(t[0]||0<d.tfClass("wcpa_form_outer").length){h&&n.loadJs(h,$.wc_additional_variation_images_frontend!==w,k(h)),await n.loadJs(n.includesURL+"js/underscore.min",void 0!==_._,f.wp),await Promise.all([n.loadJs(n.includesURL+"js/wp-util.min",_.wp!==w&&w!==_.wp.template,f.wp),n.loadJs(g,void 0!==$.fn.wc_variation_form,k(g))]);for(let e=t.length-1;-1<e;--e)$(t[e]).wc_variation_form();m&&p&&n.triggerEvent(m,"change"),m=p=null}};!0===e&&(i["jquery-blockui"]&&n.loadJs(i["jquery-blockui"],$.blockUI===w,k(i["jquery-blockui"])).then(()=>{r("jquery-blockui")}),i["wc-add-to-cart"]?n.loadJs(i["wc-add-to-cart"],f.wc_js_normal!==w,k(i["wc-add-to-cart"])).then(()=>{r("wc-add-to-cart"),l()}):l(),i["wc-single-product"]&&!$.fn.wc_product_gallery&&"undefined"!=typeof wc_single_product_params?n.loadJs(i["wc-single-product"],$.fn.wc_product_gallery!==w,k(i["wc-single-product"])).then(()=>{r("wc-single-product"),n.trigger("tf_init_photoswipe")}):delete i["wc-single-product"]),i["js-cookie"]&&(await n.loadJs(i["js-cookie"],!!_.Cookies,k(i["js-cookie"])),i["wc-cart-fragments"]&&await n.loadJs(i["wc-cart-fragments"],f.wc_js_normal!==w,k(i["wc-cart-fragments"])),r("js-cookie"),r("wc-cart-fragments"),!0!==e)||s()},j=(e,t,o,c)=>{!1===a&&(a=!0,i(e,t,o,c))};if(n.body.one("added_to_cart removed_from_cart",j).on("click.tf_wc_click",".ajax_add_to_cart,.remove_from_cart_button",e=>{e.preventDefault(),e.stopImmediatePropagation(),e.target.classList.contains("loading")||(u.push(e.target),e.target.classList.add("loading")),!1===a&&(a=!0,i(e))}),null!==m){const s=e=>{if(!p){const t=n.isTouch?"touchstart":"mousemove";_.tfOff("scroll "+t,s,{once:!0,passive:!0}),m.tfOff("change",s,{once:!0,passive:!0}),e&&"change"===e.type&&e.stopImmediatePropagation(),!1===a&&(a=p=!0,i("load"))}};_.tfOn("scroll "+(n.isTouch?"touchstart":"mousemove"),s,{once:!0,passive:!0}),m.tfOn("change",s,{once:!0,passive:!0}),m.value&&n.requestIdleCallback(s,1500)}y&&y.tfOn("change",v,{passive:!0,once:!0});for(let t=c.length-1;-1<t;--t){let e=parseFloat(c[t].min);0<=e&&parseFloat(c[t].value)<e&&(c[t].value=e)}delete f.wc_js["wc-add-to-cart-variation"],delete f.wc_js.wc_additional_variation_images_script,n.on("tf_wc_init",e=>{!0===e||null!==d.querySelector(".woocommerce-input-wrapper,.woocommerce-store-notice")?i("load"):i(!0),(async()=>{const e=d.tfClass("tf_wc_accordion")[0];e&&(await n.loadJs("wc-accordion-tabs"),n.trigger("tf_wc_acc_tabs_init",[e]))})(),n.trigger("tf_init_photoswipe")}).on("tf_init_photoswipe",e=>{if($.fn.wc_product_gallery&&"undefined"!=typeof wc_single_product_params)if(wc_single_product_params.photoswipe_enabled){const i=(e=e||d).tfClass("woocommerce-product-gallery");for(let a=i.length-1;-1<a;--a){let t=$(i[a]),e=i[a].tfClass("woocommerce-product-gallery__trigger")[0];if(!t.data("product_gallery")){t.wc_product_gallery(wc_single_product_params);let e=t.data("flexslider");e&&setTimeout(()=>{e.resize()},100)}e&&e.tfOn("click",r,{once:!0});let o=i[a].tfClass("woocommerce-product-gallery__image"),c="function"==typeof $.fn.flexslider&&wc_single_product_params.flexslider_enabled&&1<o.length;if(!c&&1===o.length){let e=o[0].tfTag("a")[0];e&&e.tfOn("click",r,{once:!0})}}}else n.off("tf_init_photoswipe")}).trigger("tf_init_photoswipe")})(jQuery,Themify,document,window,themify_vars,void 0);